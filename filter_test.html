<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<title>Document</title>
		<style>
			section{
				display: grid;
				grid-template-columns: repeat(auto-fill, minmax(15em, 1fr));
				grid-gap: .5em;
			}
			section h1{
				grid-column: 1/-1;
			}
			article{
				background: #cde;
				padding: 1em;
			}
		</style>
	</head>
	<body>
		<main></main>
		<script>
			const catLink = "http://kea-alt-del.dk/t5/api/categories";
			const pListLink = "http://kea-alt-del.dk/t5/api/productlist";
			const main = document.querySelector("main");

			fetch(catLink).then(result=>result.json()).then(data=>data.forEach(sort));

			function sort(myFilter){
				const h1 = document.createElement("h1");
				const section = document.createElement("section");
				h1.textContent = myFilter;
				section.appendChild(h1);
				fetch(pListLink).then(result=>result.json()).then(data=>{
					let sublist = data.filter(product=>product[myFilter]);
					console.log(sublist);
					sublist.forEach(product=>{
						const article = document.createElement("article");
						article.textContent = product.name;
						section.appendChild(article);
					});
					main.appendChild(section);
				});
			}

			sort("discount");









			const myArray0 = [1, 4, 7, 4, 9, 10, 34, 67, 78, 123, 456];
			const myArray = [
				{
					firstname: "hans",
					lastname: "hansen",
					born: 1990
				},
				{
					firstname: "ole",
					lastname: "hansen",
					born: 1950
				},
				{
					firstname: "jens",
					lastname: "jensen",
					born: 1950
				},
				{
					firstname: "niels",
					lastname: "jensen",
					born: 1985
				}
			];

			let newArray = myArray.filter(elm=>elm.born == 1950);

			newArray.forEach(elm=>console.log(elm));

/*			myArray.filter(doStuff);

			function doStuff(elm){
				return elm.born == 1950;
			}
*/

		</script>
	</body>
</html>
